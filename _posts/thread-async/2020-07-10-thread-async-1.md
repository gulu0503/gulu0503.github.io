---
layout: post
title: "單執行緒與多執行緒、同步與非同步、阻塞與非阻塞（一）"
subtitle: '單執行緒與多執行緒、同步與非同步'
author: "Gulu"
header-style: text
tags:
  - 多執行緒
  - 非同步
---


> 假設現在是在餐廳做飯，有兩件任務(Task)要做－「煮雞蛋」和「烤吐司」。

## 單執行緒與多執行緒
- 單執行緒 - 由一個廚師單獨完成「煮雞蛋」和「烤吐司」。
- 多執行緒 - 由多個廚師合力完成「煮雞蛋」和「烤吐司」。

> 再講同步與非同步前，我們先定義一下我們的任務狀態會分為「開始」、「進行中」、「完成」，以煮雞蛋和烤吐司為例：
> - 煮雞蛋：開始煮雞蛋=>煮雞蛋進行中=>煮雞蛋完成
> - 烤吐司：開始烤吐司=>烤吐司進行中=>烤吐司完成

## 同步與非同步
- 同步 - 「開始煮雞蛋」，並在確定「煮雞蛋完成」後，才「開始烤吐司」。
- 非同步 - 「開始煮雞蛋」，並且在尚未「煮雞蛋完成」時，就「開始烤吐司」。

~~前面的單執行緒、多執行緒和同步、非同步的比較很顯然大部份是廢話，~~總結一下前面的例子：
- 單執行緒或多執行緒關注的是「工作者」，有一個或多個工作者在工作。
- 同步與非同步關注的是「任務」，需不需要等待前一個任務完成，再進行下一個任務。

## 單執行緒、多執行緒與同步、非同步
現在我們把執行緒和同步的概念合在一起，同時關注「工作者」和「任務」。
- 單執行緒
  - 單執行緒且同步：由一名廚師「開始煮雞蛋」，並在確定「煮雞蛋完成」後，才「開始烤吐司」。
  - 單執行緒且非同步：由一名廚師「開始煮雞蛋」，並且在尚未「煮雞蛋完成」時，就「開始烤吐司」。
- 多執行緒（由廚師A負責煮雞蛋，廚師B負責烤吐司）
  - 多執行緒且同步：廚師A「開始煮雞蛋」，廚師B在確定廚師A的任務狀態為「煮雞蛋完成」後，才「開始烤吐司」。
  - 多執行緒且非同步：廚師A「開始煮雞蛋」，廚師B「開始烤吐司」，兩個廚師都不互相等待。

從上面的幾個例子我們可以知>道：
1. 多執行緒和非同步是不同的概念。
2. 多執行緒可以做為達到非同步的一個手段，但是單執行緒依然可以做到非同步。